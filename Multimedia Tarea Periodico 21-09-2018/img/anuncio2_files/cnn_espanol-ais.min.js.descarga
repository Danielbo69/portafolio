!function(){"use strict";function e(e){var n=!1,t="";if(localStorage&&(n=!0),"undefined"==typeof value){n&&(t=localStorage.getItem(e)),n&&null!==t||(t=function(e){if(document.cookie){for(var n=document.cookie.split(";"),t=e+"=",o=0;o<n.length;o++){for(var i=n[o];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""}return""}(e));try{t=JSON.parse(t)}catch(e){}return t}}function n(e){if(!r){u("Script URL: ",e),r=!0;var n=document,t=n.createElement("script"),o=n.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.src=e,o.parentNode.insertBefore(t,o)}}function t(e){function n(){"US"!==a&&"CA"!==a&&""!==a?window.AdFuel.addPageLevelTarget("iom_geo","EU"):e?window.AdFuel.addPageLevelTarget("iom_geo","EU"):window.AdFuel.addPageLevelTarget("iom_geo","US")}window.googletag.cmd.push(n)}function o(){var e=!1;window.location.hostname.search(/^(edition|cnnespanol|arabic|cnne\-test)/)>=0&&(e=!0),t(e),window.AdFuel.registerModule(i,{})}var i="Index Exchange Wrapper",r=!1,a=(e("CG")?e("CG").substr(0,2):"")||(e("countryCode")?e("countryCode").substr(0,2):""),d=function(){},c={"^(.*\\.)?(www\\.)?cnn\\.com":{intl:"186370-96070407099023",dom:"186948-60896576130421"},"^(.*\\.)?edition\\.cnn\\.com":"186370-129055748395673","^(.*\\.)?us\\.cnn\\.com":"186370-96070407099023","^(.*\\.)?money\\.cnn\\.com":{intl:"186370-144448918822171",dom:"186948-10319041752160"},"^(.*\\.)?(cnne-test|cnnespanol)\\.cnn\\.com":{intl:"186370-263196174718504",dom:""},"^(.*\\.)?arabic\\.cnn\\.com":"186370-164240128263733","^(.*\\.)?pga\\.com":"186948-65293251488212","^(.*\\.)?rydercup\\.com":"186948-65293251488212","^(.*\\.)?pga-events\\.com":"186948-65293251488212","^(.*\\.)?teamcoco\\.com":"186948-58699267721861","^(.*\\.)?eleague\\.com":"186948-12519779424234","^(.*\\.)?nba.com":"186948-120271757110262","^(.*\\.)?ncaa.com":"186948-8121571303204","^(.*\\.)?adultswim.com":"186948-113674687777483"},u=window.console&&window.console.log?function(){var e=["[AdFuelModule - "+i+" v1.1.5]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)}:d;!function(){var t=null;Object.keys(c).forEach(function(n){var o=new RegExp(n),i=e("countryCode"),r=e("selectedEdition"),a=new RegExp("/^(.*)?(edition|www|www-m|us|us-m|edition-m).cnn.com$/"),d=new RegExp("/^(.*)?money.cnn.com$/"),s=new RegExp("/^(.*)?(cnnespanol||cnne-test).cnn.com$/");0===window.location.hostname.search(o)&&("string"==typeof c[n]?t="//js-sec.indexww.com/ht/p/"+c[n]+".js":window.location.hostname.search(a)&&"US"!==i&&"CA"!==i&&""!==i?t="//js-sec.indexww.com/ht/p/"+c[n].intl+".js":window.location.hostname.search(s)&&"US"!==i&&"CA"!==i?(""!==i&&null!==i||(u("Espanol detected but no country code detected."),u("Defaulting to INTL")),t="//js-sec.indexww.com/ht/p/"+c[n].intl+".js"):t=window.location.hostname.search(d)&&"edition"===r?"//js-sec.indexww.com/ht/p/"+c[n].intl+".js":"//js-sec.indexww.com/ht/p/"+c[n].dom+".js")}),null!==t?n(t):u("Country ["+(a||"undefined")+"] and/or Hostname ["+window.location.hostname+"] is invalid."),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(o):window.AdFuel?o():document.addEventListener?document.addEventListener("AdFuelCreated",o,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",o)}()}(),function(){"use strict";function e(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)",t=new RegExp(n);if(document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}function n(e){var n=!1,t=null;if(localStorage&&(n=!0),"undefined"==typeof value){n&&(t=localStorage.getItem(e)),n&&null!==t||(t=function(e){if(document.cookie){for(var n=document.cookie.split(";"),t=e+"=",o=0;o<n.length;o++){for(var i=n[o];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null}return null}(e));try{t=JSON.parse(t)}catch(e){}return t}}function t(){var e,n;return void 0!==window.innerWidth?(e=window.innerWidth,n=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(e=document.documentElement.clientWidth,n=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,n=document.getElementsByTagName("body")[0].clientHeight),[e,n]}function o(n){A.logTime("getTargetingData"),n=n||C;var t=e("mdt");t&&(n=t,A.log("Overriding Max Duration Time: ",n));var o=function(e){A.log("Getting A9 Video targeting...");var n=function(e){clearTimeout(window.targetingTimeoutId);var n={};e.forEach(function(e){e.slotID.indexOf("aps-")>=0&&(n=e)});var t={amznbid:n.amznbid||"",amzniid:n.amzniid||""};return A.log("Returning A9 Targeting: ",t),M||(A.logTimeEnd("getTargetingData"),M=!0),t};window.A9VideoAPI._targetingPromise.then(function(t){e(n(t))})},i=function(e,t){window.targetingTimeoutId=setTimeout(function(){A.log("getTargetingData timed out after "+n+"ms."),clearTimeout(window.targetingTimeoutId),M||(A.logTimeEnd("getTargetingData"),M=!0),t("getTargetingData timed out after "+n+"ms.")},n)},r=new Promise(o),a=new Promise(i);return Promise.race([r,a])}function i(n,t){A.logTime("getRefreshedTargetingData"),t=t||k,n=n||"aps-midroll";var o=e("mdt"),i=e("slotname");o&&(t=o,A.log("Overriding Max Duration Time: ",t)),i&&(n=i,A.log("Overriding Slot Name: ",n));var r=function(e){window.A9VideoAPI._refreshedTargetingPromise=new Promise(function(e){window.apstag.fetchBids({slots:[{slotID:n,mediaType:"video"}]},e)});var t=function(t){clearTimeout(window.targetingTimeoutId);var o={};t.forEach(function(e){e.slotID===n&&(o=e)});var i={amznbid:o.amznbid||"",amzniid:o.amzniid||""};v("Returning A9 Targeting: ",i),M||(A.logTimeEnd("getRefreshedTargetingData"),M=!0),e(i)};A.log("Refreshing A9 Video targeting..."),window.A9VideoAPI._refreshedTargetingPromise.then(t)},a=function(e,n){window.targetingTimeoutId=setTimeout(function(){A.log("getRefreshedTargetingData timed out after "+t+"ms."),clearTimeout(window.targetingTimeoutId),M||(A.logTimeEnd("getRefreshedTargetingData"),M=!0),n("getRefreshedTargetingData timed out after "+t+"ms.")},t)},d=new Promise(r),c=new Promise(a);return Promise.race([d,c])}function r(e){return e.reduce(function(e,n){return e[n.getSlotElementId()]=n,e},{})}function a(e,n,t){v("Handling A9 Bids:",e,n),y("Handling A9 Bids"),window.googletag.cmd.push(function(){function t(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)",t=new RegExp(n);if(document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}var o=r(n);e.forEach(function(e){var n=o[e.slotID]||null;if(null!==n){var i={};window.apstag.targetingKeys("display").forEach(function(o){"true"===t("debug")&&console.log("[AdFuelModule - Amazon A9] Setting A9 Targeting: ",{key:o,value:e[o]}),i[o]=e[o],n.setTargeting(o,e[o])}),m.addMetric({type:"vendor",id:"Amazon A9",data:{targeting:i}})}}),window.googletag.pubads().addEventListener("slotRenderEnded",function(e){var n=r(window.googletag.pubads().getSlots()),t=n[e.slot.getSlotElementId()];window.apstag.targetingKeys("display").forEach(function(e){t.setTargeting(e,"")})})}),b("Handling A9 Bids"),t()}function d(e,n){function o(e){x=e,S=[],n()}y("A9 Slot Building");var i=["160x600","300x250","300x600","320x50","728x90","970x90","970x250"],r=["_ns_","_nfs_"],a=["super-ad-zone","super_ad_zone"],d=t();v("Browser Dimensions: ",d);for(var c=1;c<e.length;c++){var u=e[c].originalElementId||e[c].rktr_slot_id,s=u.split("_");s.splice(0,1),u=s.join("_"),v("Checking slot and sizes for validity: ",u);for(var l=[],g=!0,f=!1,w=0;w<e[c].responsive.length;w++){var p=e[c].responsive[w];f||v("Checking For Responsive Viewport: ",p[0].join("x")),!f&&p[0][0]<d[0]&&p[0][1]<d[1]&&(v("Match found."),f=!0,l=p[1],"suppress"!==p[1][0]&&"suppress"!==l||(v("Slot is responsive and being suppressed.  Filtering slot."),g=!1))}if(l.length>0&&g&&(v("Slot is responsive and not being suppressed.  Using responsive sizes: ",l),e[c].sizes=l),g){for(var m=0;m<e[c].sizes.length;m++){var h=e[c].sizes[m].join("x");i.indexOf(h)<0&&(v("Filtering out Invalid Size: ",h),e[c].sizes.splice(m,1),m-=1)}0===e[c].sizes.length&&(v("No Valid Sizes: ",e[c].sizes),g=!1);for(var A in r)e[c].rktr_slot_id.indexOf(r[A])>=0&&(v("Filtering out invalid slot type: ",r[A],e[c]),g=!1);for(var E in a)e[c].rktr_ad_id.indexOf(a[E])>=0&&(v("Filtering out invalid ad unit segment: ",a[E],e[c]),g=!1);if(g){v("Valid Slot: ",e[c]);var T={slotID:e[c].rktr_slot_id,sizes:e[c].sizes};S.push(T)}}}b("A9 Slot Building"),S.length>0?window.apstag.fetchBids({slots:S},o):v("No valid slots.")}function c(e,n){window.googletag.cmd.push(function(){var e=window.googletag.pubads().getSlots();x&&a(x,e,n),x||(v("No Bids."),n())})}function u(e,n){x=null,y("Refreshing A9 Bids"),window.apstag.fetchBids({slots:S},function(e){x=e,b("Refreshing A9 Bids");var t=window.googletag.pubads().getSlots();a(x,t,n)})}function s(){h||(v("Registering "+p+" module with AdFuel"),window.AdFuel.setOptions({queueCallbackTimeoutInMilliseconds:1e3,dispatchCallbackTimeoutInMilliseconds:1e3,refreshCallbackTimeoutInMilliseconds:2e3}),m=window.AdFuel.registerModule(p,{preQueueCallback:d,preDispatchCallback:c,preRefreshCallback:u})||m)}function l(){var n="3159";window.A9VideoAPI={getTargetingData:o,getRefreshedTargetingData:i},v("Defaulting to Domestic PubId."),v("Country Code: ",E),v("Hostname: ",_),v("Pathname: ",I),v("Selected Edition: ",T),_.search(/^(.*)?(edition|arabic)\./)>=0?(v("Full international site. Using International PubId."),n="3288"):_.search(/^(.*)?money/)>=0&&"/"===I&&"edition"===T?(v("International CNN Money Homepage. Using International PubId."),n="3288"):""===E||null===E?_.search(/^(.*)?(cnnespanol|cnne\-test)\./)>=0&&(v("No country code. Using International PubId."),n="3288"):"US"!==E&&"CA"!==E&&_.search(/^(.*)?(money|cnnespanol|cnne\-test|www\.cnn)\./)>=0&&(v("International country code. Using International PubId."),n="3288"),function(e,n,t,o,i,r,a){function d(t,o){n[e]._Q.push([t,o])}n[e]||(n[e]={init:function(){d("i",arguments)},fetchBids:function(){d("f",arguments)},_Q:[]},r=t.createElement(o),r.async=!0,r.src="//c.amazon-adsystem.com/aax2/apstag.js",a=t.getElementsByTagName(o)[0],a.parentNode.insertBefore(r,a))}("apstag",window,document,"script"),v("Final Pub ID: ",n);var t=1e3,r=e("mdt");r&&(t=r,A.log("Overriding Max Duration Time: ",t));var a="aps-preroll",d=e("slotname");d&&(a=d,A.log("Overriding Slot Name: ",a)),window.apstag.init({pubID:n,adServer:"googletag",videoAdServer:"freeWheel",bidTimeout:t}),window.A9VideoAPI._targetingPromise=new Promise(function(e){window.apstag.fetchBids({slots:[{slotID:a,mediaType:"video"}]},e)})}!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n():"function"==typeof define&&define.amd?define(n):n()}(0,function(){function e(){}function n(e){if(!(this instanceof n))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],a(e,this)}function t(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,n._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void i(t.promise,e)}o(t.promise,r)}else(1===e._state?o:i)(t.promise,e._value)})):e._deferreds.push(t)}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var o=t.then;if(t instanceof n)return e._state=3,e._value=t,void r(e);if("function"==typeof o)return void a(function(e,n){return function(){e.apply(n,arguments)}}(o,t),e)}e._state=1,e._value=t,r(e)}catch(n){i(e,n)}}function i(e,n){e._state=2,e._value=n,r(e)}function r(e){2===e._state&&0===e._deferreds.length&&n._immediateFn(function(){e._handled||n._unhandledRejectionFn(e._value)});for(var o=0,i=e._deferreds.length;i>o;o++)t(e,e._deferreds[o]);e._deferreds=null}function a(e,n){var t=!1;try{e(function(e){t||(t=!0,o(n,e))},function(e){t||(t=!0,i(n,e))})}catch(e){if(t)return;t=!0,i(n,e)}}var d=setTimeout;n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(n,o){var i=new this.constructor(e);return t(this,new function(e,n,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.promise=t}(n,o,i)),i},n.prototype.finally=function(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})},n.all=function(e){return new n(function(n,t){function o(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var d=a.then;if("function"==typeof d)return void d.call(a,function(n){o(e,n)},t)}i[e]=a,0==--r&&n(i)}catch(e){t(e)}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(e);if(0===i.length)return n([]);for(var r=i.length,a=0;i.length>a;a++)o(a,i[a])})},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n(function(n){n(e)})},n.reject=function(e){return new n(function(n,t){t(e)})},n.race=function(e){return new n(function(n,t){for(var o=0,i=e.length;i>o;o++)e[o].then(n,t)})},n._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){d(e,0)},n._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var c=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==c)return c;throw Error("unable to locate global object")}();c.Promise||(c.Promise=n)}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},writable:!0,configurable:!0});var g=Object.prototype,f=g.toString,w=function(){},p="Amazon A9",m={metrics:{},addMetric:w,getMetricById:w,getMetricsByType:w,getMetricTypes:w},h=!1,v=w,y=w,b=w;(function(e){var n=typeof e;return"function"===n||"object"===n&&!!e})(window.console)&&function(e){return"[object Function]"===f.call(e)}(window.console.log)&&"true"===e("debug")&&(v=function(){var e=["[AdFuelModule - "+p+" v1.3.17]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)},y=function(){var e=["[AdFuelModule - "+p+" v1.3.17 TIMER] "];e.push.apply(e,arguments);var n=e.join("");window.console.time(n)},b=function(){var e=["[AdFuelModule - "+p+" v1.3.17 TIMER] "];e.push.apply(e,arguments);var n=e.join("");window.console.timeEnd(n)});var A={log:v,logTime:y,logTimeEnd:b},E=(n("CG")?n("CG").substr(0,2):"")||n("countryCode"),T=n("SelectedEdition")?n("SelectedEdition"):"www",F=document.createElement("a");F.href=document.location.href;var x,_=F.hostname,I=F.pathname,S=[],C=500,k=1e3,M=!1;v("Initializing "+p+" Module..."),function(){l(),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(s):window.AdFuel?s():document.addEventListener?document.addEventListener("AdFuelCreated",s,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",s)}()}(),function(){"use strict";function e(e){var n=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),t="[\\?&]"+n+"=([^&#]*)",o=new RegExp(t);if(document.location.search){var i=o.exec(document.location.search);return i?i[1]:""}return""}function n(e){var n=!1,t=null;if(localStorage&&(n=!0),"undefined"==typeof value){n&&(t=localStorage.getItem(e)),n&&null!==t||(t=function(e){if(!document.cookie)return null;for(var n=document.cookie.split(";"),t=e+"=",o=0;o<n.length;o++){for(var i=n[o];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null}(e));try{t=JSON.parse(t)}catch(e){}}return t}function t(){var e,n;return void 0!==window.innerWidth?(e=window.innerWidth,n=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(e=document.documentElement.clientWidth,n=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,n=document.getElementsByTagName("body")[0].clientHeight),[e,n]}function o(e,n){function o(){function e(e){M("Bids: ",e),j("Requesting Bids..."),clearTimeout(window.fallbackTimeout),D||(D=!0,n())}M("Adding Ad Units..."),window.pbjs.addAdUnits(c),window.pbjs.aliasBidder("appnexus","pangaea"),M("Requesting Bids..."),P("Requesting Bids..."),window.pbjs.requestBids({bidsBackHandler:e}),window.fallbackTimeout=setTimeout(function(){clearTimeout(window.fallbackTimeout),D||(M("Timed out..."),D=!0,n())},L)}P("Prebid AdUnit Building");var i=["160x600","300x250","300x600","320x50","728x90","970x90","970x250"],r=["_ns_","_nfs_"],a=["super-ad-zone","super_ad_zone"],d=t();M("Browser Dimensions: ",d);var c=[];M("Asset: ",e);for(var u=1;u<e.length;u++){var s=e[u].rktr_ad_id.split("/"),l=e[u].targeting.filter(function(e){return M("target: ",e),!0})[0][1][0];M("Pos: ",l);var g=s[0].toLowerCase()+"_"+(s[1]?s[1].toLowerCase():"");M("InvCode: ",g);var f={code:"",mediaTypes:{banner:{sizes:[]}},bids:[]},w={rubicon:{bidder:"rubicon",params:{accountId:W,siteId:26792,zoneId:231942,position:"btf"}},appnexus:{bidder:"appnexus",params:{invCode:g,member:q}},pangaea:{bidder:"pangaea",params:{invCode:g,member:G}}};M("Checking slot and sizes for validity: ",e[u].rktr_slot_id||"N/A");for(var p=[],m=!0,h=!1,v=0;v<e[u].responsive.length;v++){var y=e[u].responsive[v];h||M("Checking For Responsive Viewport: ",y[0].join("x")),!h&&y[0][0]<d[0]&&y[0][1]<d[1]&&(M("Match found."),h=!0,p=y[1],"suppress"!==y[1][0]&&"suppress"!==p||(M("Slot is responsive and being suppressed.  Filtering slot."),m=!1))}if(p.length>0&&m&&(M("Slot is responsive and not being suppressed.  Using responsive sizes: ",p),e[u].sizes=p),m){for(var b=0;b<e[u].sizes.length;b++){var A=e[u].sizes[b].join("x");i.indexOf(A)<0&&(M("Filtering out Invalid Size: ",A),e[u].sizes.splice(b,1),b-=1)}0===e[u].sizes.length&&(M("No Valid Sizes: ",e[u].sizes),m=!1);for(var E in r)e[u].rktr_slot_id.indexOf(r[E])>=0&&(M("Filtering out invalid slot type: ",r[E],e[u]),m=!1);for(var T in a)e[u].rktr_ad_id.indexOf(a[T])>=0&&(M("Filtering out invalid ad unit segment: ",a[T],e[u]),m=!1);if(m){var F=[];M("Sizes: ",e[u].sizes,e[u].sizes.length);for(var x=0;x<e[u].sizes.length;x++)F.push(J[e[u].sizes[x].join("x")]);for(var I="",S="atf",C=e[u].targeting||[],k=0;k<C.length;k++){var z=C[k];"pos"===z[0]&&(Array.isArray(z[1])?(M("Setting POS for "+e[u].rktr_slot_id,z[1][0]),I=z[1][0],S=z[1][0].split("_")[1]):(M("Setting POS for "+e[u].rktr_slot_id,z[1]),I=z[1],S=z[1].split("_")[1]))}var B=e[u].rktr_ad_id.indexOf("/homepage")>=0;M("Is Homepage: ",B),f.code=e[u].originalElementId||e[u].rktr_slot_id,f.mediaTypes.banner.sizes=e[u].sizes,M("Starting AdUnitMock: ",JSON.parse(JSON.stringify(f)));for(var R=0;R<U.length;R++){var O=U[R],N=w[O];switch(O){case"appnexus":case"pangaea":N.params.invCode=g+"_"+I;break;case"rubicon":N.params.siteId=_.any?H:V,_.any?N.params.zoneId=Y:N.params.zoneId=B?$||Q:Q,N.params.position=S,N.params.sizes=F}f.bids.push(N)}M("Ending AdUnitMock: ",JSON.parse(JSON.stringify(f))),c.push(f)}}}j("Prebid AdUnit Building"),M("Final Ad Units: ",c);var D=!1;c.length>0&&window.pbjs.que.push(o)}function i(e,n){function t(){e[0].rktr_slot_id.indexOf("_mod_")<=0&&window.pbjs.setTargetingForGPTAsync(),n()}M("Setting Targeting..."),window.googletag.cmd.push(t)}function r(){function e(){M("Setting Prebid Geo Target: ",D?"EU":"US"),window.AdFuel.addPageLevelTarget("hbg",D?"EU":"US")}window.googletag.cmd.push(e)}function a(){M("Registering "+c+" module with AdFuel"),window.AdFuel.setOptions({queueCallbackTimeoutInMilliseconds:800}),k=window.AdFuel.registerModule(c,{preQueueCallback:o,preDispatchCallback:i})||k}function d(){window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[];var n={buckets:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:50,increment:1}]},t=function(){window.pbjs.setConfig({priceGranularity:n,enableSendAllBids:!1,bidderTimeout:L}),r()};if(window.pbjs.que.push(t),!document.getElementById("PrebidScript")){var o=document,i=o.createElement("script"),a=o.getElementsByTagName("script")[0];i.type="text/javascript",i.id="PrebidScript",i.src="//i.cdn.turner.com/ads/adfuel/modules/prebid-1.23.0.js",a.parentNode.insertBefore(i,a)}var d=e("mdt");d&&(L=d,M("Overriding Max Duration Time: ",L))}var c="Prebid";window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];var u=/iPhone/i,s=/iPod/i,l=/iPad/i,g=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,f=/Android/i,w=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,p=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,m=/Windows Phone/i,h=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,v=/BlackBerry/i,y=/BB10/i,b=/Opera Mini/i,A=/(CriOS|Chrome)(?=.*\bMobile\b)/i,E=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,T=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),F=function(e,n){return e.test(n)},x=function(e){var n=e||navigator.userAgent,t=n.split("[FBAN");if(void 0!==t[1]&&(n=t[0]),t=n.split("Twitter"),void 0!==t[1]&&(n=t[0]),this.apple={phone:F(u,n),ipod:F(s,n),tablet:!F(u,n)&&F(l,n),device:F(u,n)||F(s,n)||F(l,n)},this.amazon={phone:F(w,n),tablet:!F(w,n)&&F(p,n),device:F(w,n)||F(p,n)},this.android={phone:F(w,n)||F(g,n),tablet:!F(w,n)&&!F(g,n)&&(F(p,n)||F(f,n)),device:F(w,n)||F(p,n)||F(g,n)||F(f,n)},this.windows={phone:F(m,n),tablet:F(h,n),device:F(m,n)||F(h,n)},this.other={blackberry:F(v,n),blackberry10:F(y,n),opera:F(b,n),firefox:F(E,n),chrome:F(A,n),device:F(v,n)||F(y,n)||F(b,n)||F(E,n)||F(A,n)},this.seven_inch=F(T,n),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},_=function(){var e=new x;return e.Class=x,e}(),I=Object.prototype,S=I.toString,C=function(){},k={metrics:{},addMetric:C,getMetricById:C,getMetricsByType:C,getMetricTypes:C},M=C,P=C,j=C;(function(e){var n=typeof e;return"function"===n||"object"===n&&!!e})(window.console)&&function(e){return"[object Function]"===S.call(e)}(window.console.log)&&"true"===e("debug")&&(M=function(){var e=["[AdFuelModule - "+c+" v1.0.17]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)},P=function(){var e=["[AdFuelModule - "+c+" v1.0.17 TIMER] "];e.push.apply(e,arguments);var n=e.join("");window.console.time(n)},j=function(){var e=["[AdFuelModule - "+c+" v1.0.17 TIMER] "];e.push.apply(e,arguments);var n=e.join("");window.console.timeEnd(n)});var z=(n("CG")?n("CG").substr(0,2):"")||n("countryCode"),B=n("SelectedEdition")?n("SelectedEdition"):"www",R=document.createElement("a");R.href=document.location.href;var O=R.hostname,N=R.pathname,D=!1;O.search(/^(.*)?(edition|arabic)\./)>=0?(M("Full international site."),D=!0):O.search(/^(.*)?money/)>=0&&"/"===N&&"edition"===B?(M("International CNN Money Homepage. Using International PubId."),D=!0):""===z||null===z?O.search(/^(.*)?(cnnespanol|cnne\-test)\./)>=0&&(M("No country code. Using International PubId."),D=!0):"US"!==z&&"CA"!==z&&O.search(/^(.*)?(money|cnnespanol|cnne\-test|www\.cnn)\./)>=0&&(M("International country code. Using International PubId."),D=!0);var L=750,U=["appnexus","pangaea","rubicon"],K={rubicon:"11016",appnexus:"8353",pangaea:"8613"},W=K.rubicon,q=K.appnexus,G=K.pangaea,V=78594,H=78596,J={"728x90":2,"160x600":9,"300x600":10,"300x250":15,"320x50":43,"970x90":55,"970x250":57},$=650162,Q=372572,Y=650174;M("Initializing "+c+" Module..."),function(){D?(d(),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(a):window.AdFuel?a():(document.addEventListener&&document.addEventListener("AdFuelCreated",a,!0),document.attachEvent&&document.attachEvent("onAdFuelCreated",a))):M("Disabling module due to user location.",z)}()}(),window.AmazonDirectMatchBuy=function(){function e(e,n){return null!=e&&p.call(e,n)}function n(e){var n=typeof e;return"function"===n||"object"===n&&!!e}function t(e){return function(){e&&(e.apply(this,arguments),e=null)}}function o(e){var n=!1,t=null;if(localStorage&&(n=!0),"undefined"==typeof value){n&&(t=localStorage.getItem(e)),n&&null!==t||(t=function(n){if(document.cookie){for(var t=document.cookie.split(";"),o=e+"=",i=0;i<t.length;i++){for(var r=t[i];" "==r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(o))return r.substring(o.length,r.length)}return""}return""}(e));try{t=JSON.parse(t)}catch(e){t=t}return t}}function i(){return!!window.amznads}function r(){var e={};return i()&&(e=window.amznads.getTargeting(),n(e)||(e={})),e}function a(e){var n=e.getId();if(F.has(n)){var t=F.getKeys(n);if(t.length){v("clearing previous ad key-values: "+t.join(", "));for(var o=0,i=t.length;o<i;++o)e.setAdKeyValue(t[o],null);F.clearKeys(n)}}}function d(e,n,t){v("setting ad key-value: "+n+' = "'+t+'"'),F.addKey(e.getId(),n),e.setAdKeyValue(n,t)}function c(n){var t=r();a(n);for(var o in t)if(e(t,o)){var i=t[o];if(i instanceof Array)for(var c=0,u=i.length;c<u;++c)d(n,i[c],"1");else d(n,o,i)}}function u(e){e.getPlayerType()===CVP.FLASH&&(v("setAdKeyValuePairs",e),c(e))}function s(e){if(!i())return!e||e();var n=t(function(){window.amznads.getTargeting();return!e||e()});try{window.amznads.getAdsCallback(A,n,E)}catch(e){v("Exception thrown while requesting Amazon ads:",e),n()}}function l(e){v("initializing",e),e&&(A=e.amznkey||A,E=e.timeout||E),T=!0}function g(e){return function(){if(!T)return void v("ERROR: init() must be called first!");e.apply(this,arguments)}}var f=Array.prototype,w=Object.prototype,p=w.hasOwnProperty,m=f.slice,h=w.toString,v=function(){};n(window.console)&&function(e){return"[object Function]"===h.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)",t=new RegExp(n);if(document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}("debug")&&(v=function(){var e=["[AdFuelModule - Amazon Video]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)});var y=(o("CG")?o("CG").substr(0,2):"")||o("countryCode");v("Country Code: ",y);var b=window.location.hostname.toLowerCase(),A="3159";""==y||null==y?b.search(/^(edition|arabic|cnnespanol|cnne\-test)\./)>=0&&(A="3288"):"US"!==y&&"CA"!==y&&b.search(/^(money|edition|arabic|cnnespanol|cnne\-test|www\.cnn)\./)>=0&&(A="3288");var E=1e3,T=!1,F=function(){function e(e){return e in i}function n(n,t){e(n)||(i[n]=[]),i[n].push(t)}function t(n){return e(n)?m.call(i[n]):[]}function o(n){return!!e(n)&&(i[n].length=0,!0)}var i={};return{has:e,clearKeys:o,getKeys:t,addKey:n}}();return{requestAdRefresh:g(s),getTargetingData:g(r),setAdKeyValuePairs:g(u),isAmazonApiAvailable:i,init:l}}(),function(e){var n=document,t=n.createElement("script"),o=n.getElementsByTagName("script")[0],i=/^(complete|loaded)$/,r=!1;t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https:":"http:")+"//c.amazon-adsystem.com/aax2/amzn_ads.js",t.onload=t.onreadystatechange=function(){r||"readyState"in t&&i.test(t.readyState)||(t.onload=t.onreadystatechange=null,r=!0,e())},window.amznads?e():o.parentNode.insertBefore(t,o)}(function(){window.AmazonDirectMatchBuy.init()}),function(){function e(e){var n=!1,t=null;if(localStorage&&(n=!0),"undefined"==typeof value){n&&(t=localStorage.getItem(e)),n&&null!==t||(t=function(e){if(!document.cookie)return null;for(var n=document.cookie.split(";"),t=e+"=",o=0;o<n.length;o++){for(var i=n[o];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null}(e));try{t=JSON.parse(t)}catch(e){}}return t}function n(){if(!c){u("Including Beemray Library..."),c=!0;var e="https://"+i+".sdk.beemray.com/content/websdk/"+r+"?source="+window.btoa(window.location.href);u("Script source: ",e);var n=document.createElement("script");n.src=e,document.head.appendChild(n)}}function t(e,n){window.googletag.cmd.push(function(){var e=window.beemray.EventApi.create("dfpEvent","/rest/event/web/plain"),t=function(e){if(u("Response: ",e),null===e)return n(),u("Request Timeout or no Results.");for(var t=[],o=0;o<e.list.length;o++)u("Adding Page-Level Target ID: ",e.list[o].id),t.push(e.list[o].id);for(var i=0;i<e.stand.userPlaceInfo.state.length;i++)u("Adding Page-Level State Name: ",e.stand.userPlaceInfo.state[i]),t.push(e.stand.userPlaceInfo.state[i]);return u("Setting Beemray Page-Level Targets: ",t),window.googletag.pubads().setTargeting("beemray",t),n(),null};u("Sending Beemray WebAPI event..."),e.send(t,1e3)})}function o(){u("Registering Module..."),window.AdFuel.registerModule("beemray",{preQueueCallback:t})}var i="cnn",r="39a34d8d-dd1d-4fbf-aa96-fdc5f0329451",a=Object.prototype,d=a.toString,c=!1,u=function(){};(function(e){var n=typeof e;return"function"===n||"object"===n&&!!e})(window.console)&&function(e){return"[object Function]"===d.call(e)}(window.console.log)&&"true"===function(e){var n=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),t="[\\?&]"+n+"=([^&#]*)",o=new RegExp(t);if(document.location.search){var i=o.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(u=function(){var e=["[AdFuelModule - Beemray v1.0.1]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)}),function(){var t=(e("CG")?e("CG").substr(0,2):"")||e("countryCode"),i=e("SelectedEdition")?e("SelectedEdition"):"www",r=document.createElement("a");r.href=document.location.href;var a=r.hostname;if(-1!==a.search(/^(edition|arabic|cnnespanol|money).*\.cnn\.com$/)||"localhost"===a){if(-1!==a.search(/^(money).*\.cnn\.com$/)&&"edition"!==i)return void u("Disabling Beemray due to selected edition restrictions: ",i);if(-1!==a.search(/^(us|www|edition).*\.cnn\.com$/)&&("US"===t||"CA"===t))return void u("Disabling Beemray due to countryCode restrictions: ",t);u("Initializing Module..."),n(),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(o):window.AdFuel?o():(document.addEventListener&&document.addEventListener("AdFuelCreated",o,!0),document.attachEvent&&document.attachEvent("onAdFuelCreated",o))}else u("Disabling Beemray due to hostname restrictions: ",a)}()}(),function(){var e=function(){return!1},n={addMetric:e,getMetricById:e,getMetricsByType:e,getMetricTypes:e};window.cnnad_haveCookie=function(e){return document.cookie&&(document.cookie.indexOf("; "+e+"=")>=0||0==document.cookie.indexOf(e+"="))},window.cnnad_readCookie=function(e){if(document.cookie){for(var n=document.cookie.split(";"),t=e+"=",o=0;o<n.length;o++){for(var i=n[o];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null}},window.turner_getGuid=function(){return window.cnnad_readCookie("ug")},function(){function e(){function e(){var e=window.turner_getGuid();n=window.AdFuel.registerModule("GUID",{}),i("setting guid targeting",{guid:e}),n.addMetric({type:"modules",id:"GUID",data:{targeting:{guid:e}}}),window.AdFuel.addPageLevelTarget("guid",e)}window.AdFuel?e():document.addEventListener?document.addEventListener("AdFuelCreated",e,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",e)}var t=Object.prototype,o=t.toString,i=function(){};if(function(e){var n=typeof e;return"function"===n||"object"===n&&!!e}(window.console)&&function(e){return"[object Function]"===o.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)",t=new RegExp(n);if(document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}("debug")&&(i=function(){var e=["[AdFuelModule - Guid]"];e.push.apply(e,arguments),
window.console.log.apply(window.console,e)}),window.cnnad_haveCookie("ugs"))e();else{var r=document,a=r.createElement("script"),d=r.getElementsByTagName("script")[0],c=/^(complete|loaded)$/,u=!1;a.type="text/javascript",a.async=!0,a.src="//www.ugdturner.com/xd.sjs",a.onload=a.onreadystatechange=function(){u||"readyState"in a&&c.test(a.readyState)||(a.onload=a.onreadystatechange=null,u=!0,e())},d.parentNode.insertBefore(a,d)}}()}(),function(){function e(e){u("IAS Data Handler..."),u({adSlots:e}),window.__iasPET.setTargetingForGPT()}function n(n,t){u("Building slots for IAS..."),window.__iasPET.pubId="925660",u("Asset: ",n,"Slots: ",n.length-1);for(var o=[],i=1;i<n.length;i++)u("Checking Slot: ",n[i]),n[i].rktr_ad_id.search(/^cnni\/(video|homepage|(.+\/(landing|main|video)))/)<0?(u("Pushing Slot: ",{adSlotId:n[i].rktr_slot_id,size:n[i].sizes,adUnitPath:"/8663477/"+n[i].rktr_ad_id}),o.push({adSlotId:n[i].rktr_slot_id,size:n[i].sizes,adUnitPath:"/8663477/"+n[i].rktr_ad_id})):u("Invalid Slot: ",n[i].rktr_ad_id);u("Built Ad Slots: ",o),window.__iasPET.queue.push({adSlots:o,dataHandler:e}),setTimeout(function(){t()},900)}function t(e,n){setTimeout(function(){u("Adding IAS Targeting to slots...");try{window.__iasPET.setTargetingForGPT()}catch(e){s("Could not set IAS targeting: ",e)}n()},900)}function o(){l&&(u("Registering "+c+" module with AdFuel"),window.AdFuel.setOptions({queueCallbackTimeoutInMilliseconds:1e3,dispatchCallbackTimeoutInMilliseconds:1e3}),window.AdFuel.registerModule(c,{preQueueCallback:n,preDispatchCallback:t}))}function i(){if(-1!==document.location.hostname.search(/^edition.*\.cnn\.com$/)||"localhost"===document.location.hostname){u("Adding IAS script to head...");var e=document.createElement("script");e.async=!0,e.src="//cdn.adsafeprotected.com/iasPET.1.js";var n=document.getElementsByTagName("head")[0];n.insertBefore(e,n.firstChild),l=!0}}var r=Object.prototype,a=r.toString,d=function(){},c="Integral Ad Science",u=d,s=d;(function(e){var n=typeof e;return"function"===n||"object"===n&&!!e})(window.console)&&function(e){return"[object Function]"===a.call(e)}(window.console.log)&&"true"===function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)",t=new RegExp(n);if(document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}("debug")&&(u=function(){var e=["[AdFuelModule - "+c+"]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)},s=function(){var e=["[AdFuelModule - "+c+"]"];e.push.apply(e,arguments),window.console.warn.apply(window.console,e)});var l=!1;window.__iasPET=window.__iasPET||{},window.__iasPET.queue=window.__iasPET.queue||[],u("Initializing "+c+" Module..."),function(){i(),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(o):window.AdFuel?o():document.addEventListener?document.addEventListener("AdFuelCreated",o,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",o)}()}(),function(){function e(){if(document.location.search){var e,n=document.location.search.search(o)+1;try{e=decodeURIComponent(document.location.search).search(o)+1}catch(t){e=n}return n||e}return!1}function n(){if(document.location.hash){var e,n=document.location.hash.search(o)+1;try{e=decodeURIComponent(document.location.hash).search(o)+1}catch(t){e=n}return n||e}return!1}function t(){if(document.referrer){var e,n=document.referrer.search(o)+1;try{e=decodeURIComponent(document.location.referrer).search(o)+1}catch(t){e=n}return n||e}return!1}var o=/(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})/i;window.Krux||((window.Krux=function(){window.Krux.q.push(arguments)}).q=[]),function(){function e(e){var n="kx"+e,t=function(){try{return window.localStorage}catch(e){return null}}();if(t)return t[n]||"";if(navigator.cookieEnabled){var o=document.cookie.match(n+"=([^;]*)");return o&&unescape(o[1])||""}return""}window.Krux.user=e("user"),window.Krux.segments=e("segs")?e("segs").split(","):[]}(),window.krux_getDESegments=function(){var e="&kxid=";return window.Krux.user&&(e+=window.Krux.user),e+="&kxseg="+window.kvs.join(",")},window.krux_getFWSegments=function(){return"kxseg="+window.Krux.segments.join(",kxseg=")},window.krux_getUser=function(){return window.Krux.user},window.krux_getFWKeyValues=function(e,n){for(var t=e||"_fwu:386123:",o=n||35,i={},r=0;r<window.Krux.segments.length;r++)r<o&&(i[t+window.Krux.segments[r]]=1);return i},window.Krux.setControlTag=function(o){function i(){function e(){var e=window.Krux.user,n=window.Krux.segments.filter(function(e,n){return n<35});d("setting krux targeting",{kuid:e,ksg:n}),t=window.AdFuel.registerModule("Krux",{})||t,window.AdFuel.addPageLevelTarget("kuid",e),window.AdFuel.addPageLevelTarget("ksg",n),t.addMetric({type:"modules",id:"Krux",data:{targeting:{kuid:e,ksg:n}}})}var n=function(){return!1},t={addMetric:n,getMetricById:n,getMetricsByType:n,getMetricTypes:n};window.AdFuel?e():document.addEventListener?document.addEventListener("AdFuelCreated",e,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",e)}var r=Object.prototype,a=r.toString,d=function(){};(function(e){var n=typeof e;return"function"===n||"object"===n&&!!e})(window.console)&&function(e){return"[object Function]"===a.call(e)}(window.console.log)&&"true"===function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)",t=new RegExp(n);if(document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}("debug")&&(d=function(){var e=["[AdFuelModule - Krux 1.2.2]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)});var c=document,u=c.createElement("script"),s=c.getElementsByTagName("script")[0],l=/^(complete|loaded)$/,g=!1;u.type="text/javascript",u.async=!0;var f,w=(f=c.location.href.match(/\bkxsrc=([^&]+)/))&&decodeURIComponent(f[1]);u.src=/^https?:\/\/([^\/]+\.)?krxd\.net(:\d{1,5})?\//i.test(w)?w:"disable"===w?"":("https:"===c.location.protocol?"https:":"http:")+"//cdn.krxd.net/controltag?confid="+o,u.onload=u.onreadystatechange=function(){g||"readyState"in u&&l.test(u.readyState)||(u.onload=u.onreadystatechange=null,g=!0,i())},n()||e()||t()||s.parentNode.insertBefore(u,s)};var i=window.location.hostname.toLowerCase().match(/^edition\.cnn\.com/)?"ITb_9Zup":"ITb9ZA8v";window.Krux.setControlTag(i)}(),function(){function e(){new RegExp(i);if(document.location.search){var e,n=document.location.search.search(i)+1;try{e=decodeURIComponent(document.location.search).search(i)+1}catch(t){e=n}return n||e}return!1}function n(){new RegExp(i);if(document.location.hash){var e,n=document.location.hash.search(i)+1;try{e=decodeURIComponent(document.location.hash).search(i)+1}catch(t){e=n}return n||e}return!1}function t(){new RegExp(i);if(document.referrer){var e,n=document.referrer.search(i)+1;try{e=decodeURIComponent(document.location.referrer).search(i)+1}catch(t){e=n}return n||e}return!1}function o(){if(e()||n()||t()){console.log("[AdFuelModule - PII Filter] Filtering DFP Request due to PII in query string.");for(var o=Object.getOwnPropertyNames(window.AdFuel),i=0;i<o.length;i++)window.AdFuel[o[i]]=function(){};window.googletag=null}}var i=/(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})/i;!function(){window.AdFuel?o():document.addEventListener?document.addEventListener("AdFuelCreated",o,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",o)}()}(),function(){function e(){if(!f){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"===document.location.protocol?"https:":"http:")+u;document.getElementsByTagName("script")[0].parentNode.appendChild(e),w("Added Proximic script to head of page.",u),f=!0}}function n(e,n){""!==e&&void 0!==e&&(w("Setting data for DFP",e),window.AdFuel.addPageLevelTarget("pconid",e),r.addMetric({type:"modules",id:"Proximic",data:{targeting:{pconid:e}}}),n())}function t(o,i){var r,u,l=!0;try{for(!(document.location.hostname.indexOf("money")>=0)||window.CNNMONEY&&window.CNNMONEY.adTargets&&window.CNNMONEY.adTargets.c_type&&"article"===window.CNNMONEY.adTargets.c_type||(l=!1),u=1;u<o.length;u++)if(r=o[u].rktr_ad_id.toLowerCase(),r.search(/^cnn\/(video|homepage|(.+\/landing))/)<0&&l&&r.search(/^cnni\/(video|homepage|(.+\/(landing|main|video)))/)<0){e(),w("Waiting for data..."),setTimeout(function(){a++,w("SegmentData: ",s),""!==s&&void 0!==s?(w("Proximic Data found!"),n(s,i)):a*d<c?t(o,i):(w("Proximic Timeout Occurred!"),window.AdFuel.addPageLevelTarget("prx_to","1"),i())},d);break}}catch(e){w("Error parsing Proximic data: ",e.message||"Unknown")}}function o(){r=window.AdFuel.registerModule("Proximic",{postQueueCallback:t})}var i=function(){return!1},r={addMetric:i,getMetricById:i,getMetricsByType:i,getMetricTypes:i},a=0,d=50,c=2e3,u="//segment-data-us-east.zqtk.net/turner-47fcf6?url="+encodeURIComponent(document.location.href),s="",l=Object.prototype,g=l.toString,f=!1,w=function(){};(function(e){var n=typeof e;return"function"===n||"object"===n&&!!e})(window.console)&&function(e){return"[object Function]"===g.call(e)}(window.console.log)&&"true"===function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)",t=new RegExp(n);if(document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}("debug")&&(w=function(){var e=["[AdFuelModule - Proximic/comScore]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)}),window.gotSegmentData=function(e){e.data&&(w("Segment Data: ",e.data),s=e.data)},function(){window.AdFuel?o():document.addEventListener?document.addEventListener("AdFuelCreated",o,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",o)}()}();var addFunctionOnWindowLoad=function(e){window.addEventListener?window.addEventListener("load",e,!1):window.attachEvent("onload",e)};addFunctionOnWindowLoad(function(){var e=function(){},n=e;(function(e){var n=typeof e;return"function"===n||"object"===n&&!!e})(window.console)&&function(e){return"[object Function]"===toString.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)",t=new RegExp(n);if(document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}("debug")&&(n=function(){var e=["[AdFuelModule - SP Metrics]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)},function(){},function(){var e=["[AdFuelModule - SP Metrics ERROR]"];e.push.apply(e,arguments),window.console.error.apply(window.console,e)},function(){var e=["[AdFuelModule - SP Metrics TIMER] "];e.push.apply(e,arguments);var n=e.join("");window.console.time(n)}),n("Initializing SP Metrics Module..."),function(){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){var n=document.createElement("html");n.innerHTML=e.responseText;var t=n.getElementsByTagName("script")[0],o=document.createElement("script");o.src=t.src,o.async=t.async,o.type=t.type;for(dsVal in t.dataset)o.dataset[dsVal]=t.dataset[dsVal];document.body.appendChild(o)}},e.open("GET","https://d1osssr1rvrv5b.cloudfront.net/imm.js",!0),e.send(null)}()}),function(){var e=function(){return!1},n={addMetric:e,getMetricById:e,getMetricsByType:e,getMetricTypes:e};window.cnnad_transactionID=null,window.cnnad_getTransactionID=function(){return window.cnnad_transactionID||(window.cnnad_transactionID=Math.round((new Date).getTime()/1e3)+""+Math.floor(9007199254740992*Math.random())),window.cnnad_transactionID},window.turner_getTransactionId=window.cnnad_getTransactionID,window.turner_getTransactionId(),function(){function e(){var e=window.turner_getTransactionId();n=AdFuel.registerModule("Transaction Id",{}),n.addMetric({type:"modules",id:"Transaction Id",data:{targeting:{transId:e}}}),window.AdFuel.addPageLevelTarget("transId",e)}var t=Object.prototype,o=t.toString;(function(e){var n=typeof e;return"function"===n||"object"===n&&!!e})(window.console)&&function(e){return"[object Function]"===o.call(e)}(window.console.log)&&function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)",t=new RegExp(n);if(document.location.search){var o=t.exec(document.location.search);o&&o[1]}}("debug"),window.AdFuel?e():document.addEventListener?document.addEventListener("AdFuelCreated",e,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",e)}()}();